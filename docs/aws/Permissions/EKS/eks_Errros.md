# ERRORES

## DECODIFICAR ERRORES
You can decrypt the message from the CLI using the following command:
```bash
$> aws sts decode-authorization-message --encoded-message <encoded message from error>
```

## Tabla de Errores

| ERRORES | Number |
|---| --- |
| ERROR: failed to validate cluster: operation error EC2: DescribeRegions, https response error StatusCode: 403, RequestID: fd971121-fdb8-4312-a256-20aba6717245, api error UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeRegions because no identity-based policy allows the ec2:DescribeRegions action | 1 |
| ERROR: failed to validate cluster: operation error EC2: DescribeAvailabilityZones, https response error StatusCode: 403, RequestID: 614202cc-4348-4688-a909-92ba2a2717b4, api error UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeAvailabilityZones because no identity-based policy allows the ec2:DescribeAvailabilityZones action  | 2 |
| ERROR: failed to create cluster: failed to create the IAM security: failed to run clusterawsadm: Command Output: Attempting to create AWS CloudFormation stack cluster-api-provider-aws-sigs-k8s-io / Error: failed to create AWS CloudFormation stack: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: cloudformation:CreateStack on resource: arn:aws:cloudformation:eu-west-1:<account-id>:stack/cluster-api-provider-aws-sigs-k8s-io/* because no identity-based policy allows the cloudformation:CreateStack action. | 3 |
| ERROR: All errors reported during IAM security (Cloud Formation) validation Phase | 4 |
| ERROR "failed to reconcile network" failed to create new vpc: failed to create vpc: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateVpc on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/* because no identity-based policy allows the ec2:CreateVpc action. | 5 |
| ERROR "Reconciler error" failed to create new vpc: failed to create vpc: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateTags on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/* because no identity-based policy allows the ec2:CreateTags action. | 6 |
| ERROR "Reconciler error" .spec.vpc.id is set but VPC resource is missing in AWS; failed to describe VPC resources. (might be in creation process): failed to query ec2 for VPCs: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeVpcs because no identity-based policy allows the ec2:DescribeVpcs action. | 7 |
| ERROR "Reconciler error" failed to set vpc attributes for "vpc-xxxxxxxxxxxxxxxxx": [failed to describe enableDnsHostnames vpc attribute: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeVpcAttribute on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/vpc-xxxxxxxxxxxxxxxxx because no identity-based policy allows the ec2:DescribeVpcAttribute action. | 8 |
| ERROR "Reconciler error" failed to set vpc attributes for "vpc-xxxxxxxxxxxxxxxxx": failed to set enableDnsHostnames vpc attribute: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:ModifyVpcAttribute on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/vpc-xxxxxxxxxxxxxxxxx because no identity-based policy allows the ec2:ModifyVpcAttribute action. | 9 |
| ERROR "Reconciler error" failed to describe subnets in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeSubnets because no identity-based policy allows the ec2:DescribeSubnets action. | 10 |
| ERROR "Reconciler error" failed to describe route tables in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeRouteTables because no identity-based policy allows the ec2:DescribeRouteTables action. | 11 |
| ERROR "Reconciler error" failed to describe NAT gateways with VPC ID "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeNatGateways because no identity-based policy allows the ec2:DescribeNatGateways action. | 12 |
| ERROR "Reconciler error" failed to create subnet: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateSubnet on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/vpc-xxxxxxxxxxxxxxxxx because no identity-based policy allows the ec2:CreateSubnet action. | 13 |
| ERROR "events: Failed creating new managed Subnet UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateSubnet on resource: arn:aws:ec2:eu-west-1:<account-id>:subnet/* because no identity-based policy allows the ec2:CreateSubnet action. | 14 |
| ERROR "events: Failed creating new managed Subnet UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateTags on resource: arn:aws:ec2:eu-west-1:<account-id>:subnet/* because no identity-based policy allows the ec2:CreateTags action. | 15 |
| ERROR "Reconciler error" failed to describe internet gateways in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeInternetGateways because no identity-based policy allows the ec2:DescribeInternetGateways action. | 16 |
| ERROR  "Reconciler error" failed to create internet gateway: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateInternetGateway on resource: arn:aws:ec2:eu-west-1:<account-id>:internet-gateway/* because no identity-based policy allows the ec2:CreateInternetGateway action. | 17 |
| ERROR "Reconciler error" failed to attach internet gateway "igw-09872c4412dcb7c7f" to vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:AttachInternetGateway on resource: arn:aws:ec2:eu-west-1:<account-id>:internet-gateway/igw-09872c4412dcb7c7f because no identity-based policy allows the ec2:AttachInternetGateway action. | 18 |
| ERROR "Reconciler error" failed to create one or more IP addresses for NAT gateways: failed to query addresses: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeAddresses because no identity-based policy allows the ec2:DescribeAddresses action. | 19 |
|ERROR  "Reconciler error" failed to create one or more IP addresses for NAT gateways: failed to allocate Elastic IP: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:AllocateAddress on resource: arn:aws:ec2:eu-west-1:<account-id>:elastic-ip/* because no identity-based policy allows the ec2:AllocateAddress action. | 20 |
| ERROR "Reconciler error" failed to create route table in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateRouteTable on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/vpc-xxxxxxxxxxxxxxxxx because no identity-based policy allows the ec2:CreateRouteTable action. | 21 |
| ERROR "events: Failed to create new NAT Gateway: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateNatGateway on resource: arn:aws:ec2:eu-west-1:<account-id>:elastic-ip/eipalloc-02281590c5feefc69 because no identity-based policy allows the ec2:CreateNatGateway action. | 22 |
| ERROR "Reconciler error" failed to create route table in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateRouteTable on resource: arn:aws:ec2:eu-west-1:<account-id>:route-table/* because no identity-based policy allows the ec2:CreateRouteTable action. | 23 |
| ERROR Failed to create managed RouteTable: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateTags on resource: arn:aws:ec2:eu-west-1:<account-id>:route-table/* because no identity-based policy allows the ec2:CreateTags action. | 24 |
| ERROR "Reconciler error" failed to create route in route table "rtb-0903730b92f440cca" UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateRoute on resource: arn:aws:ec2:eu-west-1:<account-id>:route-table/rtb-0903730b92f440cca because no identity-based policy allows the ec2:CreateRoute action. | 25 |
| ERROR "Reconciler error" failed to associate route table "rtb-0b4936876600ba11c" to subnet "subnet-0d19ba5eef9150b7d": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:AssociateRouteTable on resource: arn:aws:ec2:eu-west-1:<account-id>:subnet/subnet-0d19ba5eef9150b7d because no identity-based policy allows the ec2:AssociateRouteTable action. | 26 |
| ERROR "Reconciler error" failed to describe security groups in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeSecurityGroups because no identity-based policy allows the ec2:DescribeSecurityGroups action. | 27 |
| ERROR "Reconciler error" failed to create security group "apiserver-lb" in vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:CreateSecurityGroup on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/vpc-xxxxxxxxxxxxxxxxx because no identity-based policy allows the ec2:CreateSecurityGroup action. | 28 |
| ERROR Failed to authorize security group "sg-0545b09f422982c92" ingress rules UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:AuthorizeSecurityGroupIngress on resource: arn:aws:ec2:eu-west-1:<account-id>:security-group/sg-0545b09f422982c92 because no identity-based policy allows the ec2:AuthorizeSecurityGroupIngress action. | 29 |
| ERROR "Reconciler error" failed to describe bastion host: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeInstances because no identity-based policy allows the ec2:DescribeInstances action. | 30 |
| ERROR "Reconciler error" unexpected aws error: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:DescribeLoadBalancers because no identity-based policy allows the elasticloadbalancing:DescribeLoadBalancers action. | 31 |
| ERROR "Reconciler error" failed to create classic load balancer: &{ aws-cl01-apiserver  internet-facing [eu-west-1a eu-west-1b eu-west-1c] [subnet-0d19ba5eef9150b7d subnet-013ef0c7644f55ad4 subnet-02f67cb7371f274ca] [sg-05a35748d34db9d25] [{TCP 6443 TCP 6443}] 0xc000851020 {10m0s false} map[Name:aws-cl01-apiserver keos.stratio.com/owner:aws-cl01 sigs.k8s.io/cluster-api-provider-aws/cluster/aws-cl01:owned sigs.k8s.io/cluster-api-provider-aws/role:apiserver] [] map[] }: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:CreateLoadBalancer on resource: arn:aws:elasticloadbalancing:eu-west-1:<account-id>:loadbalancer/aws-cl01-apiserver because no identity-based policy allows the elasticloadbalancing:CreateLoadBalancer action. | 32 |
| ERROR "Reconciler error" failed to create classic load balancer: &{ aws-cl01-apiserver  internet-facing [eu-west-1a eu-west-1b eu-west-1c] [subnet-0d19ba5eef9150b7d subnet-013ef0c7644f55ad4 subnet-02f67cb7371f274ca] [sg-05a35748d34db9d25] [{TCP 6443 TCP 6443}] 0xc000b462d0 {10m0s false} map[Name:aws-cl01-apiserver keos.stratio.com/owner:aws-cl01 sigs.k8s.io/cluster-api-provider-aws/cluster/aws-cl01:owned sigs.k8s.io/cluster-api-provider-aws/role:apiserver] [] map[] }: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:AddTags on resource: arn:aws:elasticloadbalancing:eu-west-1:<account-id>:loadbalancer/aws-cl01-apiserver because no identity-based policy allows the elasticloadbalancing:AddTags action. | 33 |
| ERROR "Reconciler error" failed to describe classic load balancer "aws-cl01-apiserver" attributes: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:DescribeLoadBalancerAttributes because no identity-based policy allows the elasticloadbalancing:DescribeLoadBalancerAttributes action. | 34 |
| ERROR "Reconciler error" failed to describe classic load balancer "aws-cl01-apiserver" attributes: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:DescribeLoadBalancerAttributes because no identity-based policy allows the elasticloadbalancing:DescribeLoadBalancerAttributes action. | 35 |
| ERROR "Reconciler error" failed to describe classic load balancer tags: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:DescribeTags because no identity-based policy allows the elasticloadbalancing:DescribeTags action. | 36 |
| ERROR "Reconciler error" failed to configure attributes for classic load balancer: aws-cl01-apiserver: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:ModifyLoadBalancerAttributes on resource: arn:aws:elasticloadbalancing:eu-west-1:<account-id>:loadbalancer/aws-cl01-apiserver because no identity-based policy allows the elasticloadbalancing:ModifyLoadBalancerAttributes action. | 37 |
| ERROR "Reconciler error" failed to resolve userdata: AccessDeniedException: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: secretsmanager:CreateSecret on resource: aws.cluster.x-k8s.io/9c094b71-951c-4319-8808-bc210681064f-0 because no identity-based policy allows the secretsmanager:CreateSecret action. | 38 |
| ERROR "unable to create instance" failed to resolve userdata: AccessDeniedException: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: secretsmanager:TagResource on resource: aws.cluster.x-k8s.io/db40c4d1-9ce8-474c-82f8-22f6a8e99d34-0 because no identity-based policy allows the secretsmanager:TagResource action. | 39 |
| ERROR "Reconciler error" failed to resolve userdata: AccessDeniedException: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: secretsmanager:DeleteSecret on resource: aws.cluster.x-k8s.io/066deb68-f98d-438f-85e2-513e1d88eb02-0 because no identity-based policy allows the secretsmanager:DeleteSecret action. | 40 |
| ERROR "Reconciler error" failed to set subnet "subnet-02dddac8cff6d8270" attribute assign ipv4 address on creation: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:ModifySubnetAttribute on resource: arn:aws:ec2:eu-west-1:<account-id>:subnet/subnet-02dddac8cff6d8270 because no identity-based policy allows the ec2:ModifySubnetAttribute action. | 41 |
| ERROR "Reconciler error" failed to create AWSMachine instance: failed to get root volume from image "ami-0fa5c2eaa30742d5c": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeImages because no identity-based policy allows the ec2:DescribeImages action. | 42 |
| ERROR "Reconciler error" failed to create AWSMachine instance: failed to run instance: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:RunInstances on resource: arn:aws:ec2:eu-west-1:<account-id>:instance/* because no identity-based policy allows the ec2:RunInstances action. | 43 |
| ERROR "Reconciler error" could not register control plane instance "i-0b5c5285d8a8addc6" with classic load balancer: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:RegisterInstancesWithLoadBalancer on resource: arn:aws:elasticloadbalancing:eu-west-1:<account-id>:loadbalancer/aws-cl01-apiserver because no identity-based policy allows the elasticloadbalancing:RegisterInstancesWithLoadBalancer action. | 44 |
| ERROR "Reconciler error" failed to get ENIs for instance "i-0b5c5285d8a8addc6": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeNetworkInterfaces because no identity-based policy allows the ec2:DescribeNetworkInterfaces action. | 45 |
| ERROR "Reconciler error" failed to terminate instance with id "i-0e9bc389b5c83c355": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:TerminateInstances on resource: arn:aws:ec2:eu-west-1:<account-id>:instance/i-0e9bc389b5c83c355 because no identity-based policy allows the ec2:TerminateInstances action. | 46 |
| ERROR failed to get ENIs for instance "i-0667955f8ff1aaf0c": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeNetworkInterfaces because no identity-based policy allows the ec2:DescribeNetworkInterfaces action. | 47 |
| ERROR "events: Failed to deregister control plane instance \"i-0667955f8ff1aaf0c\" from load balancer: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:DeregisterInstancesFromLoadBalancer on resource: arn:aws:elasticloadbalancing:eu-west-1:<account-id>:loadbalancer/aws-cl01-apiserver because no identity-based policy allows the elasticloadbalancing:DeregisterInstancesFromLoadBalancer action." | 48 |
| ERROR failed to delete control plane load balancer: AccessDenied: User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:DeleteLoadBalancer on resource: arn:aws:elasticloadbalancing:eu-west-1:<account-id>:loadbalancer/aws-cl01-apiserver because no identity-based policy allows the elasticloadbalancing:DeleteLoadBalancer action. | 49 |
| ERROR failed to delete security group "sg-041beec5de69ea741" with name "aws-cl01-apiserver-lb": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DeleteSecurityGroup on resource: arn:aws:ec2:eu-west-1:<account-id>:security-group/sg-041beec5de69ea741 because no identity-based policy allows the ec2:DeleteSecurityGroup action. | 50 |
| ERROR "events: Failed to disassociate managed RouteTable \"rtb-0017fc35e57be37ca\" from Subnet \"subnet-0c0343a79318271f3\": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DisassociateRouteTable on resource: arn:aws:ec2:eu-west-1:<account-id>:subnet/subnet-0c0343a79318271f3 because no identity-based policy allows the ec2:DisassociateRouteTable action. | 51 |
| ERROR "Reconciler error" failed to delete route table "rtb-0017fc35e57be37ca": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DeleteRouteTable on resource: arn:aws:ec2:eu-west-1:<account-id>:route-table/rtb-0017fc35e57be37ca because no identity-based policy allows the ec2:DeleteRouteTable action. | 52 |
| ERROR "Reconciler error" failed to delete nat gateway "nat-01a6fe0f027b28b54": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DeleteNatGateway on resource: arn:aws:ec2:eu-west-1:<account-id>:natgateway/nat-01a6fe0f027b28b54 because no identity-based policy allows the ec2:DeleteNatGateway action. | 53 |
| ERROR "Reconciler error" failed to release ElasticIP "eipalloc-0b6240a8e127f5a06": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:ReleaseAddress on resource: arn:aws:ec2:eu-west-1:<account-id>:elastic-ip/eipalloc-0b6240a8e127f5a06 because no identity-based policy allows the ec2:ReleaseAddress action. | 54 |
| ERROR "Reconciler error" failed to detach internet gateway "igw-0118cd1b332d977d6": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DetachInternetGateway on resource: arn:aws:ec2:eu-west-1:<account-id>:internet-gateway/igw-0118cd1b332d977d6 because no identity-based policy allows the ec2:DetachInternetGateway action. | 55 |
| ERROR "Reconciler error" failed to delete internet gateway "igw-0118cd1b332d977d6": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DeleteInternetGateway on resource: arn:aws:ec2:eu-west-1:<account-id>:internet-gateway/igw-0118cd1b332d977d6 because no identity-based policy allows the ec2:DeleteInternetGateway action. | 56 |
| ERROR "Reconciler error" failed to delete subnet "subnet-0f372eaf9e10579fe": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DeleteSubnet on resource: arn:aws:ec2:eu-west-1:<account-id>:subnet/subnet-0f372eaf9e10579fe because no identity-based policy allows the ec2:DeleteSubnet action. | 57 |
| ERROR "Reconciler error" failed to delete vpc "vpc-xxxxxxxxxxxxxxxxx": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-aws is not authorized to perform: ec2:DeleteVpc on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/vpc-xxxxxxxxxxxxxxxxx because no identity-based policy allows the ec2:DeleteVpc action. | 58 |
| ERROR: failed to create cluster: failed to get docker registry credentials: operation error ECR: GetAuthorizationToken, https response error StatusCode: 400, RequestID: a2a0f673-37be-43bb-b486-0d855d2d579a, api error AccessDeniedException: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-aws is not authorized to perform: ecr:GetAuthorizationToken on resource: * because no identity-based policy allows the ecr:GetAuthorizationToken action. | 59 |
| ERROR: Failed to get docker registry image: operation error ECR: BatchGetImage, https response error StatusCode: 400, RequestID: 0e2b0b1a-4b1a-4b0a-9e1a-9b6b2b2b2b2b, api error AccessDeniedException: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-aws is not authorized to perform: ecr:BatchGetImage on resource: arn:aws:ecr:eu-west-1:xxxxxxxxxxxxx:repository/stratio/stratio-k8s-aws-controller because no identity-based policy allows the ecr:BatchGetImage action. | 60 |
| ERROR: Failed to get docker registry image: operation error ECR: BatchCheckLayerAvailability, no policy allows the ecr:BatchCheckLayerAvailability action. | 61 |
| ERROR: Failed to get docker registry image: operation error ECR: GetDownloadUrlForLayerbecause no identity-based policy allows the ecr:GetDownloadUrlForLayer action. | 62 |
|E1206 "failed to reconcile load balancer"  failed to configure health check for classic load balancer: aws-custom-apiserver  internet-facing because no identity-based policy allows the elasticloadbalancing:ConfigureHealthCheck action. | 63 |
| I1206 "events: insufficient permissions to describe instance types for instance type \"m5.xlarge\", falling back to the default architecture of \"x86_64\": UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-aws is not authorized to perform: ec2:DescribeInstanceTypes because no identity-based policy allows the ec2:DescribeInstanceTypes action. | 64 |
| ERROR "failed to reconcile load balancer" failed to attach apiserver load balancer "aws-custom-apiserver" to subnets: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-aws is not authorized to perform: elasticloadbalancing:AttachLoadBalancerToSubnets on resource: arn:aws:elasticloadbalancing:eu-west-1:xxxxxxxxxxxxx:loadbalancer/aws-custom-apiserver because no identity-based policy allows the elasticloadbalancing:AttachLoadBalancerToSubnets action. | 65 |
| ERROR No identity-based policy allows the iam:ListInstanceProfilesForRole action. | 66 |
| ERROR failed to reconcile control plane for AWSManagedControlPlane: no identity-based policy allows the eks:DescribeCluster action. | 67 |
| ERROR failed to reconcile control plane for AWSManagedControlPlane: no identity-based policy allows the eks:CreateCluster action. | 68 |
| ERROR failed to reconcile control plane for AWSManagedControlPlane: no identity-based policy allows the eks:TageResource action. | 69 |
| ERROR "Reconciler error" failed to create AWSMachine instance: failed to get ami SSM parameter: "/aws/service/eks/optimized-ami/1.26/amazon-linux-2/recommended/image_id": AccessDeniedException: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: ssm:GetParameter on resource: arn:aws:ssm:eu-west-1::parameter/aws/service/eks/optimized-ami/1.26/amazon-linux-2/recommended/image_id because no identity-based policy allows the ssm:GetParameter action. | 70 |
| ERROR "Reconciler error" failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling OIDC provider for cluster: failed to reconcile OIDC provider: error listing providers: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:ListOpenIDConnectProviders on resource: arn:aws:iam::xxxxxxxxxxxxx:oidc-provider/* because no identity-based policy allows the iam:ListOpenIDConnectProviders action. | 71 |
| ERROR "Reconciler error" failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling OIDC provider for cluster: failed to reconcile OIDC provider: error getting provider: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:GetOpenIDConnectProvider on resource: arn:aws:iam::xxxxxxxxxxxxx:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/01A62AD5F1D6F2A48DDC08EEE4A0D11E because no identity-based policy allows the iam:GetOpenIDConnectProvider action. | 72 |
| ERROR "Reconciler error" failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling OIDC provider for cluster: failed to reconcile OIDC provider: error creating provider: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:CreateOpenIDConnectProvider on resource: arn:aws:iam::xxxxxxxxxxxxx:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/01A62AD5F1D6F2A48DDC08EEE4A0D11E because no identity-based policy allows the iam:CreateOpenIDConnectProvider action. | 73 |
| ERROR "Reconciler error" "failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling eks addons: listing eks addons: listing eks addons: AccessDeniedException: User is not authorized to perform this action". | 74 |
| ERROR "Reconciler error" "failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling eks addons: addon_create: creating eks addon vpc-cni: AccessDeniedException: User is not authorized to perform this action". | 75 |
| ERROR "Reconciler error" "failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling eks addons: getting installed eks addons: describing eks addon vpc-cni: AccessDeniedException: User is not authorized to perform this action". | 76 |
| ERROR "Reconciler error" failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: failed reconciling OIDC provider for cluster: failed to tag OIDC provider: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:TagOpenIDConnectProvider on resource: arn:aws:iam::xxxxxxxxxxxxx:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/95DEC26F26A29262F0AE5CF4F7A77138 because no identity-based policy allows the iam:TagOpenIDConnectProvider action. | 77 |
| ERROR "Reconciler error" failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: error ensuring policies are attached: [0xc000f0c070]: error listing role polices for eks-cl01-iam-service-role: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:ListAttachedRolePolicies on resource: role eks-cl01-iam-service-role because no identity-based policy allows the iam:ListAttachedRolePolicies action. | 78 |
| ERROR "Reconciler error" failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: creating role eks-cl01-iam-service-role: failed to call CreateRole: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:TagRole on resource: arn:aws:iam::xxxxxxxxxxxxx:role/eks-cl01-iam-service-role because no identity-based policy allows the iam:TagRole action. | 79 |
| ERROR failed to reconcile control plane for AWSManagedControlPlane cluster-lrecio-aws/lrecio-aws-control-plane: creating role eks-cl01-iam-service-role: failed to call CreateRole: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:CreateRole on resource: arn:aws:iam::xxxxxxxxxxxxx:role/eks-cl01-iam-service-role because no identity-based policy allows the iam:CreateRole action. | 80 |
| ERROR "error deleting EKS cluster for EKS control plane" err="unable to delete EKS cluster: failed to request delete of eks cluster eks-cl02: AccessDeniedException: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: eks:DeleteCluster on resource: arn:aws:eks:eu-west-1:xxxxxxxxxxxxx:cluster/eks-cl02" controller="awsmanagedcontrolplane" controller Group="controlplane.cluster.x-k8s.io" controllerKind="AWSManagedControlPlane" AWSManagedControlPlane="cluster-eks-cl02/eks-cl02-control-plane" reconcileID="65704c34-09d5-4c48-b7fc-389e2afcd901" namespace="cluster-eks-cl02" name="eks-cl02-control-plane". | 81 |
| ERROR "Reconciler error" failed to delete OIDC provider: error deleting provider: AccessDenied: User: arn:aws:iam::xxxxxxxxxxxxx:user/cloud-provisioner-eks is not authorized to perform: iam:DeleteOpenIDConnectProvider on resource: arn:aws:iam::xxxxxxxxxxxxx:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/71DCE6C4BF0301DA4E227FA5CEEDF9AB because no identity-based policy allows the iam:DeleteOpenIDConnectProvider action. | 82 |
| ERROR "Reconciler error" err="failed to reconcile control plane for AWSManagedControlPlane cluster-eks-cl02/eks-cl02-control-plane: failed reconciling cluster version: failed to update EKS cluster: AccessDeniedException: User is not authorized to perform this action" controller="awsmanagedcontrolplane" controllerGroup="controlplane.cluster.x-k8s.io" controllerKind="AWSManagedControlPlane" AWSManagedControlPlane="cluster-eks-cl02/eks-cl02-control-plane" namespace="cluster-eks-cl02" name="eks-cl02-control-plane" reconcileID="27682de5-0bc5-4fb5-97b6-33ea18a3cf6d". | 83 |
| ERROR "Reconciler error" err="failed to reconcile network for AWSManagedControlPlane cluster-eks-cl01/eks-cl01-control-plane: UnauthorizedOperation: You are not authorized to perform this operation. User: arn:aws:iam::<account-id>:user/cloud-provisioner-eks is not authorized to perform: ec2:AssociateVpcCidrBlock on resource: arn:aws:ec2:eu-west-1:<account-id>:vpc/<vpc-id> because no identity-based policy allows the ec2:AssociateVpcCidrBlock action.
